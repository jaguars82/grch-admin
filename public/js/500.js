"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[500],{22758:(e,n,t)=>{t.d(n,{A:()=>a});var o=t(46992),l=t(89415),r=t(29726);function a(e){e.roles,e.permissions;var n=(0,o.s9)({inheritLocale:!0,messages:l.G6}).tm;return{mainMenuLinks:(0,r.computed)((function(){return[{id:"InfoResources",label:n("information"),icon:"circle-info",link:null,type:"dropdown",links:[{id:"informationTariffTable",label:n("informationTariffTable"),icon:"money-check-dollar",link:"tariff-edit",type:"route"},{id:"informationTutorial",label:n("informationTutorial"),icon:"user-graduate",link:"tutorial-index",type:"route"}]},{id:"StatResources",label:"Большой брат",icon:"eye",link:null,type:"dropdown",links:[{id:"StatBooking",label:"Заявки",icon:"bookmark",link:"stats-booking",type:"route"},{id:"StatFeedUpdate",label:"Обновления ЖК по фидам",icon:"clock",link:"stats-feed-update",type:"route"}]}]})),mainMenuFooterLinks:(0,r.computed)((function(){return[]}))}}},32500:(e,n,t)=>{t.r(n),t.d(n,{default:()=>j});var o=t(29726),l=t(29234),r=t(97786),a=t(2543),c=t(22758);const i={name:"UserMenu"};const u=(0,t(66262).A)(i,[["render",function(e,n,t,o,l,r){return null}]]);var s=t(5420),m=t(98687),k=["src"],d={class:"flex flex-col flex-grow space-y-[.25rem] overflow-y-auto overflow-x-hidden scrollbar-thin scrollbar-thumb-rose-500 scrollbar-track-slate-200 overscroll-x-none pr-4 -mr-4 scroll-smooth"},f=["onClick"],p={key:0,class:"abay-main-menu-root-link"},y=["textContent"],v=["textContent"],B=["href","target"],h=["textContent"],x=["href","target"],C={class:"flex items-center justify-center"},b={class:"flex flex-col h-20 justify-center items-center"},g=["innerHTML"],N=["innerHTML"],V={key:0,class:"relative flex justify-between items-center cursor-default"},E={class:"flex space-x-2 items-center"},w=["textContent"],M=["onClick"],_=["textContent"],D=["href","target"],L=["textContent"],S={key:3,class:"absolute z-50 top-10 -left-0 flex flex-col p-2 space-y-2 w-full rounded-md bg-white bg-slate-700 bg-opacity-[.97]"},T=["textContent"],F=["href","target"],z=["textContent"];const j={__name:"MainMenu",emits:["updateMainMenuStatus"],setup:function(e){var n=(0,c.A)({roles:(0,l.N5)().props.value.roles,permissions:(0,l.N5)().props.value.permissions}),t=n.mainMenuLinks,i=n.mainMenuFooterLinks,j=(0,o.ref)([null,null,null]),P=(0,o.inject)("appearingMode");(0,o.onBeforeMount)((function(){t.value.forEach((function(e){e.hasOwnProperty("links")&&e.links.find((function(n){e.link===route().current()&&(j.value[0]=e.id),n.link===route().current()&&(j.value[0]=e.id,j.value[1]=n.id),n.hasOwnProperty("links")&&n.links.find((function(t){t.link===route().current()&&(j.value[0]=e.id,j.value[1]=n.id,j.value[2]=t.id)}))}))}))}));var H=(0,o.ref)(null),W=(0,o.ref)();(0,r.X2F)(H,(function(e){return W.value=!1}));var A=(0,o.ref)(null);(0,r.X2F)(A,(function(e){return j.value[2]=null}));var O=(0,o.inject)("breakpoints");return(0,o.watch)((function(){return(0,a.cloneDeep)(O)}),(function(e){e.value.smaller("md").value&&(m.a.value="hidden"),e.value.greater("md").value&&(m.a.value="opened")})),function(e,n){var r=(0,o.resolveComponent)("icon");return(0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,null,[(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)(["abay-main-menu",{"border-r":W.value,"abay-main-menu-show":"opened"===(0,o.unref)(m.a),"abay-main-menu-hide":"hidden"===(0,o.unref)(m.a)}])},[(0,o.createVNode)((0,o.unref)(l.N_),{href:e.route("/"),class:"h-16 w-16 text-rose-600 my-4 mx-auto"},{default:(0,o.withCtx)((function(){return[(0,o.createElementVNode)("img",{src:["dark"===(0,o.unref)(P)?(0,o.unref)(s.fv).abay.logo.dark?(0,o.unref)(s.fv).abay.logo.dark:(0,o.unref)(s.WD).logo.dark:(0,o.unref)(s.fv).abay.logo.light?(0,o.unref)(s.fv).abay.logo.light:(0,o.unref)(s.WD).logo.light]},null,8,k)]})),_:1},8,["href"]),(0,o.createElementVNode)("div",d,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)((0,o.unref)(t),(function(n){return(0,o.openBlock)(),(0,o.createElementBlock)("div",{key:n.id,onClick:function(e){j.value[0]=n.id,W.value=!0},class:(0,o.normalizeClass)(["abay-main-menu-root-wrapper",{"bg-rose-500 text-gray-50":j.value[0]===n.id}])},["dropdown"===n.type?((0,o.openBlock)(),(0,o.createElementBlock)("div",p,[n.icon?((0,o.openBlock)(),(0,o.createBlock)(r,{key:0,icon:n.icon,class:"w-6 h-6"},null,8,["icon"])):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("span",{class:"text-[.65rem]",textContent:(0,o.toDisplayString)(n.label)},null,8,y)])):(0,o.createCommentVNode)("",!0),"route"===n.type?((0,o.openBlock)(),(0,o.createBlock)((0,o.unref)(l.N_),{key:1,href:e.route(n.link),class:"abay-main-menu-root-link"},{default:(0,o.withCtx)((function(){return[n.icon?((0,o.openBlock)(),(0,o.createBlock)(r,{key:0,icon:n.icon,class:"w-6 h-6"},null,8,["icon"])):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("span",{class:"text-[.65rem]",textContent:(0,o.toDisplayString)(n.label)},null,8,v)]})),_:2},1032,["href"])):(0,o.createCommentVNode)("",!0),"simple-link"===n.type?((0,o.openBlock)(),(0,o.createElementBlock)("a",{class:"abay-main-menu-root-link",href:n.link,target:!!n.target,key:n.id},[n.icon?((0,o.openBlock)(),(0,o.createBlock)(r,{key:0,icon:n.icon,class:"w-6 h-6"},null,8,["icon"])):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("span",{class:"text-[.65rem]",textContent:(0,o.toDisplayString)(n.label)},null,8,h)],8,B)):(0,o.createCommentVNode)("",!0)],10,f)})),128))]),((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)((0,o.unref)(i),(function(n){return(0,o.openBlock)(),(0,o.createElementBlock)("div",{key:n.id,class:"flex flex-shrink-0 justify-center items-center h-12 w-12 mx-auto bg-slate-100/10 mb-4 rounded-full"},["route"===n.linkType?((0,o.openBlock)(),(0,o.createBlock)((0,o.unref)(l.N_),{id:"footer-link",href:e.route(n.link),key:n.id},{default:(0,o.withCtx)((function(){return[n.icon?((0,o.openBlock)(),(0,o.createBlock)(r,{key:0,icon:n.icon,class:"mt-1 w-6 h-6"},null,8,["icon"])):(0,o.createCommentVNode)("",!0)]})),_:2},1032,["href"])):((0,o.openBlock)(),(0,o.createElementBlock)("a",{id:"footer-link",href:n.link,target:!!n.target,key:n.id},[n.icon?((0,o.openBlock)(),(0,o.createBlock)(r,{key:0,icon:n.icon,class:"mt-1 w-6 h-6"},null,8,["icon"])):(0,o.createCommentVNode)("",!0)],8,x))])})),128)),(0,o.createElementVNode)("div",C,[(0,o.createVNode)((0,o.unref)(u))])],2),j.value[0]?((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:0,class:(0,o.normalizeClass)(["absolute z-10 flex h-full flex-col px-4 -mb-4 w-56 bg-gradient-to-tl from-slate-700/90 to-slate-800 text-gray-50",[W.value?"left-28":"-left-56","transition-all duration-700"]]),ref_key:"subMenu",ref:H},[(0,o.createElementVNode)("div",b,[(0,o.createElementVNode)("span",{class:"text-2xl font-bold",innerHTML:(0,o.unref)(s.fv).appName?(0,o.unref)(s.fv).appName:(0,o.unref)(s.WD).appName},null,8,g),(0,o.createElementVNode)("span",{class:"text-xs font-semibold text-center",innerHTML:(0,o.unref)(s.fv).catchPhrase?(0,o.unref)(s.fv).catchPhrase:(0,o.unref)(s.WD).catchPhrase},null,8,N)]),j.value[0]?((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:0,class:"mt-6 space-y-[.25rem]",ref_key:"thirdMenu",ref:A},[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)((0,o.unref)(t).find((function(e){return e.id===j.value[0]})).links,(function(n){return(0,o.openBlock)(),(0,o.createElementBlock)("div",{key:n,class:(0,o.normalizeClass)(["relative p-2 rounded-md hover:bg-slate-400/50 cursor-pointer text-sm",[{"bg-rose-500":j.value[1]===n.id}]])},["dropdown"===n.type?((0,o.openBlock)(),(0,o.createElementBlock)("div",V,[(0,o.createElementVNode)("div",E,[n.icon?((0,o.openBlock)(),(0,o.createBlock)(r,{key:0,icon:n.icon},null,8,["icon"])):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("span",{textContent:(0,o.toDisplayString)(n.label)},null,8,w)]),(0,o.createElementVNode)("div",{class:"px-2 cursor-pointer",onClick:function(e){return j.value[2]=j.value[2]===n.id?null:n.id}},[n.hasOwnProperty("links")?((0,o.openBlock)(),(0,o.createBlock)(r,{key:0,icon:"ellipsis-vertical",size:"sm"})):(0,o.createCommentVNode)("",!0)],8,M)])):(0,o.createCommentVNode)("",!0),"route"===n.type?((0,o.openBlock)(),(0,o.createBlock)((0,o.unref)(l.N_),{key:1,href:e.route(n.link),class:"flex space-x-2 items-center"},{default:(0,o.withCtx)((function(){return[n.icon?((0,o.openBlock)(),(0,o.createBlock)(r,{key:0,icon:n.icon},null,8,["icon"])):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("span",{textContent:(0,o.toDisplayString)(n.label)},null,8,_)]})),_:2},1032,["href"])):(0,o.createCommentVNode)("",!0),"simple-link"===n.type?((0,o.openBlock)(),(0,o.createElementBlock)("a",{class:"flex space-x-2 items-center",href:n.link,target:!!n.target,key:n.id},[n.icon?((0,o.openBlock)(),(0,o.createBlock)(r,{key:0,icon:n.icon},null,8,["icon"])):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("span",{textContent:(0,o.toDisplayString)(n.label)},null,8,L)],8,D)):(0,o.createCommentVNode)("",!0),j.value[2]===n.id?((0,o.openBlock)(),(0,o.createElementBlock)("div",S,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(n.links,(function(n){return(0,o.openBlock)(),(0,o.createElementBlock)("div",{key:n,class:(0,o.normalizeClass)(["p-1 rounded-md",[{"bg-rose-500":e.route().current(n.link)}]])},["route"===n.type?((0,o.openBlock)(),(0,o.createBlock)((0,o.unref)(l.N_),{key:0,href:e.route(n.link),class:"flex space-x-2 items-center"},{default:(0,o.withCtx)((function(){return[n.icon?((0,o.openBlock)(),(0,o.createBlock)(r,{key:0,icon:n.icon},null,8,["icon"])):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("span",{textContent:(0,o.toDisplayString)(n.label)},null,8,T)]})),_:2},1032,["href"])):(0,o.createCommentVNode)("",!0),"simple-link"===n.type?((0,o.openBlock)(),(0,o.createElementBlock)("a",{class:"flex space-x-2 items-center",href:n.link,target:!!n.target,key:n.id},[n.icon?((0,o.openBlock)(),(0,o.createBlock)(r,{key:0,icon:n.icon},null,8,["icon"])):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("span",{textContent:(0,o.toDisplayString)(n.label)},null,8,z)],8,F)):(0,o.createCommentVNode)("",!0)],2)})),128))])):(0,o.createCommentVNode)("",!0)],2)})),128))],512)):(0,o.createCommentVNode)("",!0)],2)):(0,o.createCommentVNode)("",!0)],64)}}}}}]);